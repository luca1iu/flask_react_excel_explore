{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[file,setFile]=useState(null);const[filename,setFilename]=useState(null);const[analysis,setAnalysis]=useState(null);const handleFileChange=e=>{setFile(e.target.files[0]);console.log(\"File selected:\",e.target.files[0]);};const handleUpload=()=>{if(!file){console.error(\"No file selected!\");return;}const formData=new FormData();formData.append('file',file);console.log(\"Uploading file...\");axios.post('http://127.0.0.1:5000/upload',formData,{headers:{'Content-Type':'multipart/form-data'}}).then(response=>{console.log(\"Response received:\",response);if(response.data.filename){setFilename(response.data.filename);console.log(\"File set\",response.data.filename);alert(\"File uploaded successfully!\");}else{console.log('Response is null or has no data!');}}).catch(error=>{console.error('There was an error uploading the file!',error);});};const handleAnalyze=()=>{if(!filename){console.error(\"No file uploaded!\");return;}console.log(\"Analyzing file with filename:\",filename);axios.post('http://127.0.0.1:5000/analyze',{filename}).then(response=>{console.log(\"Analysis received:\",response.data);setAnalysis(response.data);}).catch(error=>{console.error('There was an error analyzing the file!',error);});};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold underline\",children:\"Excel Data Analysis\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-[4.75rem] lg:pt-[5.25rem] overflow-hidden\",children:/*#__PURE__*/_jsx(\"button\",{className:\"mt-10\",href:\"#login\",onClick:handleUpload,children:\"Upload\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAnalyze,children:\"Explore Excel\"}),analysis&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Excel Data Analysis:\"}),/*#__PURE__*/_jsxs(\"pre\",{children:[\"Shape: \",JSON.stringify(analysis.shape)]}),/*#__PURE__*/_jsxs(\"pre\",{children:[\"Null Info: \",JSON.stringify(analysis.null_info,null,2)]}),/*#__PURE__*/_jsxs(\"pre\",{children:[\"Distinct Values: \",JSON.stringify(analysis.distinct_values,null,2)]}),/*#__PURE__*/_jsxs(\"pre\",{children:[\"Description: \",JSON.stringify(analysis.description,null,2)]})]})]})});}export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","App","file","setFile","filename","setFilename","analysis","setAnalysis","handleFileChange","e","target","files","console","log","handleUpload","error","formData","FormData","append","post","headers","then","response","data","alert","catch","handleAnalyze","className","children","type","onChange","href","onClick","JSON","stringify","shape","null_info","distinct_values","description"],"sources":["/Users/luca/Dev/测试/flask_react_2/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [file, setFile] = useState(null);\n  const [filename, setFilename] = useState(null);\n  const [analysis, setAnalysis] = useState(null);\n\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n    console.log(\"File selected:\", e.target.files[0]);\n  };\n\n  const handleUpload = () => {\n    if (!file) {\n      console.error(\"No file selected!\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    console.log(\"Uploading file...\");\n\n    axios.post('http://127.0.0.1:5000/upload', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n    .then(response => {\n      console.log(\"Response received:\", response);\n      if (response.data.filename) {\n        setFilename(response.data.filename);\n        console.log(\"File set\", response.data.filename);\n        alert(\"File uploaded successfully!\");\n      } else {\n        console.log('Response is null or has no data!');\n      }\n    })\n    .catch(error => {\n      console.error('There was an error uploading the file!', error);\n    });\n  };\n\n  const handleAnalyze = () => {\n    if (!filename) {\n      console.error(\"No file uploaded!\");\n      return;\n    }\n\n    console.log(\"Analyzing file with filename:\", filename);\n\n    axios.post('http://127.0.0.1:5000/analyze', { filename })\n    .then(response => {\n      console.log(\"Analysis received:\", response.data);\n      setAnalysis(response.data);\n    })\n    .catch(error => {\n      console.error('There was an error analyzing the file!', error);\n    });\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1 className=\"text-3xl font-bold underline\">Excel Data Analysis</h1>\n        <input type=\"file\" onChange={handleFileChange} />\n        <div className=\"pt-[4.75rem] lg:pt-[5.25rem] overflow-hidden\">\n          <button className=\"mt-10\" href='#login' onClick={handleUpload}>Upload</button>\n        </div>\n        <button onClick={handleAnalyze}>Explore Excel</button>\n        {analysis && (\n          <div>\n            <h3>Excel Data Analysis:</h3>\n            <pre>Shape: {JSON.stringify(analysis.shape)}</pre>\n            <pre>Null Info: {JSON.stringify(analysis.null_info, null, 2)}</pre>\n            <pre>Distinct Values: {JSON.stringify(analysis.distinct_values, null, 2)}</pre>\n            <pre>Description: {JSON.stringify(analysis.description, null, 2)}</pre>\n          </div>\n        )}\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}