{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./App.css';// Make sure to import your CSS file\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function App(){const[file,setFile]=useState(null);const[filename,setFilename]=useState(null);const[analysis,setAnalysis]=useState(null);const handleFileChange=e=>{setFile(e.target.files[0]);console.log(\"File selected:\",e.target.files[0]);};const handleUpload=()=>{if(!file){console.error(\"No file selected!\");return;}const formData=new FormData();formData.append('file',file);console.log(\"Uploading file...\");axios.post('http://127.0.0.1:5000/upload',formData,{headers:{'Content-Type':'multipart/form-data'}}).then(response=>{console.log(\"Response received:\",response);if(response.data.filename){setFilename(response.data.filename);console.log(\"File set\",response.data.filename);alert(\"File uploaded successfully!\");}else{console.log('Response is null or has no data!');}}).catch(error=>{console.error('There was an error uploading the file!',error);});};const handleAnalyze=()=>{if(!filename){console.error(\"No file uploaded!\");return;}console.log(\"Analyzing file with filename:\",filename);axios.post('http://127.0.0.1:5000/analyze',{filename}).then(response=>{console.log(\"Analysis received:\",response.data);setAnalysis(response.data);}).catch(error=>{console.error('There was an error analyzing the file!',error);});};const renderObject=obj=>{if(!obj||typeof obj!=='object'){return null;}return/*#__PURE__*/_jsx(\"div\",{style:{paddingLeft:'20px'},children:Object.entries(obj).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[key,\":\"]}),\" \",typeof value==='object'?renderObject(value):value.toString()]},key);})});};const renderAnalysis=()=>{if(!analysis){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-box\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Excel Data Analysis:\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Shape:\"}),\" \",analysis.shape]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Null Info:\"}),/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(analysis.null_info,null,2)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Distinct Values:\"}),/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(analysis.distinct_values,null,2)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),renderObject(analysis.description)]})]});};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold underline\",children:\"Excel Data Analysis\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-[4.75rem] lg:pt-[5.25rem] overflow-hidden\",children:/*#__PURE__*/_jsx(\"button\",{className:\"mt-10\",onClick:handleUpload,children:\"Upload\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAnalyze,className:\"btn\",children:\"Explore Excel\"}),renderAnalysis()]})});}export default App;","map":{"version":3,"names":["React","useState","axios","jsxs","_jsxs","jsx","_jsx","App","file","setFile","filename","setFilename","analysis","setAnalysis","handleFileChange","e","target","files","console","log","handleUpload","error","formData","FormData","append","post","headers","then","response","data","alert","catch","handleAnalyze","renderObject","obj","style","paddingLeft","children","Object","entries","map","_ref","key","value","toString","renderAnalysis","className","shape","JSON","stringify","null_info","distinct_values","description","type","onChange","onClick"],"sources":["/Users/luca/Dev/测试/flask_react_2/frontend/src/App.js"],"sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport './App.css'; // Make sure to import your CSS file\n\n\nfunction App() {\n    const [file, setFile] = useState(null);\n    const [filename, setFilename] = useState(null);\n    const [analysis, setAnalysis] = useState(null);\n\n    const handleFileChange = (e) => {\n        setFile(e.target.files[0]);\n        console.log(\"File selected:\", e.target.files[0]);\n    };\n\n    const handleUpload = () => {\n        if (!file) {\n            console.error(\"No file selected!\");\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('file', file);\n\n        console.log(\"Uploading file...\");\n\n        axios.post('http://127.0.0.1:5000/upload', formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n            .then(response => {\n                console.log(\"Response received:\", response);\n                if (response.data.filename) {\n                    setFilename(response.data.filename);\n                    console.log(\"File set\", response.data.filename);\n                    alert(\"File uploaded successfully!\");\n                } else {\n                    console.log('Response is null or has no data!');\n                }\n            })\n            .catch(error => {\n                console.error('There was an error uploading the file!', error);\n            });\n    };\n\n    const handleAnalyze = () => {\n        if (!filename) {\n            console.error(\"No file uploaded!\");\n            return;\n        }\n\n        console.log(\"Analyzing file with filename:\", filename);\n\n        axios.post('http://127.0.0.1:5000/analyze', {filename})\n            .then(response => {\n                console.log(\"Analysis received:\", response.data);\n                setAnalysis(response.data);\n            })\n            .catch(error => {\n                console.error('There was an error analyzing the file!', error);\n            });\n    };\n    const renderObject = (obj) => {\n        if (!obj || typeof obj !== 'object') {\n            return null;\n        }\n\n        return (<div style={{paddingLeft: '20px'}}>\n                {Object.entries(obj).map(([key, value]) => (<div key={key}>\n                        <strong>{key}:</strong> {typeof value === 'object' ? renderObject(value) : value.toString()}\n                    </div>))}\n            </div>);\n    };\n\n    const renderAnalysis = () => {\n        if (!analysis) {\n            return null;\n        }\n\n        return (<div className=\"analysis-box\">\n                <h3>Excel Data Analysis:</h3>\n                <div>\n                    <strong>Shape:</strong> {analysis.shape}\n                </div>\n                <div>\n                    <strong>Null Info:</strong>\n                    <pre>{JSON.stringify(analysis.null_info, null, 2)}</pre>\n                </div>\n                <div>\n                    <strong>Distinct Values:</strong>\n                    <pre>{JSON.stringify(analysis.distinct_values, null, 2)}</pre>\n                </div>\n                <div>\n                    <strong>Description:</strong>\n                    {renderObject(analysis.description)}\n                </div>\n            </div>);\n    };\n\n    return (<div className=\"App\">\n            <header className=\"App-header\">\n                <h1 className=\"text-3xl font-bold underline\">Excel Data Analysis</h1>\n                <input type=\"file\" onChange={handleFileChange}/>\n                <div className=\"pt-[4.75rem] lg:pt-[5.25rem] overflow-hidden\">\n                    <button className=\"mt-10\" onClick={handleUpload}>Upload</button>\n                </div>\n                <button onClick={handleAnalyze} className=\"btn\">Explore Excel</button>\n                {renderAnalysis()}\n            </header>\n        </div>);\n}\n\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}